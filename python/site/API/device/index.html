
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for trezorlib and trezorctl command">
      
      
        <meta name="author" content="Trezor/Satoshilabs">
      
      
      
        <link rel="prev" href="../debuglink/">
      
      
        <link rel="next" href="../ethereum/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Device - Trezorlib</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#python.src.trezorlib.device" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Trezorlib" class="md-header__button md-logo" aria-label="Trezorlib" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Trezorlib
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Device
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/trezor/trezor-firmware" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Trezorlib" class="md-nav__button md-logo" aria-label="Trezorlib" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Trezorlib
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/trezor/trezor-firmware" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Trezorlib and Trezorctl
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../EXAMPLES/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Trezorctl examples
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OPTIONS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Trezorctl commands
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples_trezorlib/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Trezorlib examples
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../transaction-format/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transaction Format
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../btc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bitcoin
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Client
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debuglink/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Debuglink
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Device
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Device
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device" class="md-nav__link">
    <span class="md-ellipsis">
      
        device
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.apply_flags" class="md-nav__link">
    <span class="md-ellipsis">
      
        apply_flags
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.apply_settings" class="md-nav__link">
    <span class="md-ellipsis">
      
        apply_settings
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        backup
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.cancel_authorization" class="md-nav__link">
    <span class="md-ellipsis">
      
        cancel_authorization
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.change_pin" class="md-nav__link">
    <span class="md-ellipsis">
      
        change_pin
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.change_wipe_code" class="md-nav__link">
    <span class="md-ellipsis">
      
        change_wipe_code
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.reboot_to_bootloader" class="md-nav__link">
    <span class="md-ellipsis">
      
        reboot_to_bootloader
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.recover" class="md-nav__link">
    <span class="md-ellipsis">
      
        recover
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.reset" class="md-nav__link">
    <span class="md-ellipsis">
      
        reset
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.sd_protect" class="md-nav__link">
    <span class="md-ellipsis">
      
        sd_protect
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.set_busy" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_busy
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.unlock_path" class="md-nav__link">
    <span class="md-ellipsis">
      
        unlock_path
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.wipe" class="md-nav__link">
    <span class="md-ellipsis">
      
        wipe
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ethereum/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ethereum
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fido/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FIDO
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device" class="md-nav__link">
    <span class="md-ellipsis">
      
        device
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.apply_flags" class="md-nav__link">
    <span class="md-ellipsis">
      
        apply_flags
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.apply_settings" class="md-nav__link">
    <span class="md-ellipsis">
      
        apply_settings
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        backup
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.cancel_authorization" class="md-nav__link">
    <span class="md-ellipsis">
      
        cancel_authorization
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.change_pin" class="md-nav__link">
    <span class="md-ellipsis">
      
        change_pin
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.change_wipe_code" class="md-nav__link">
    <span class="md-ellipsis">
      
        change_wipe_code
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.reboot_to_bootloader" class="md-nav__link">
    <span class="md-ellipsis">
      
        reboot_to_bootloader
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.recover" class="md-nav__link">
    <span class="md-ellipsis">
      
        recover
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.reset" class="md-nav__link">
    <span class="md-ellipsis">
      
        reset
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.sd_protect" class="md-nav__link">
    <span class="md-ellipsis">
      
        sd_protect
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.set_busy" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_busy
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.unlock_path" class="md-nav__link">
    <span class="md-ellipsis">
      
        unlock_path
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.src.trezorlib.device.wipe" class="md-nav__link">
    <span class="md-ellipsis">
      
        wipe
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Device</h1>

<pre><code class="language-python">from trezorlib import device
</code></pre>


<div class="doc doc-object doc-module">



<a id="python.src.trezorlib.device"></a>
    <div class="doc doc-contents first">










<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="python.src.trezorlib.device.apply_flags" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">apply_flags</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Change device flags.</p>
<p>Flags/bits can be only set, not unset.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrezorClient (python.src.trezorlib.client.TrezorClient)" href="../client/#python.src.trezorlib.client.TrezorClient">TrezorClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TrezorClient instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flags</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>New flags for the device - bitmask</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="python.src.trezorlib.protobuf.MessageType">MessageType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Success message</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/trezorlib/device.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@expect</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">Success</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="n">ret_type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="nd">@session</span>
<span class="k">def</span> <span class="nf">apply_flags</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="s2">&quot;TrezorClient&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MessageType&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Change device flags.</span>

<span class="sd">    Flags/bits can be only set, not unset.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: TrezorClient instance</span>
<span class="sd">        flags: New flags for the device - bitmask</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Success message</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">ApplyFlags</span><span class="p">(</span><span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="p">))</span>
    <span class="n">client</span><span class="o">.</span><span class="n">refresh_features</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">out</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="python.src.trezorlib.device.apply_settings" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">apply_settings</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">use_passphrase</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">homescreen</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">passphrase_always_on_device</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auto_lock_delay_ms</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">display_rotation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">safety_checks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">experimental_features</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Change device settings.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrezorClient (python.src.trezorlib.client.TrezorClient)" href="../client/#python.src.trezorlib.client.TrezorClient">TrezorClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TrezorClient instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>label</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>New label for the device</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>language</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>New language for the device</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>use_passphrase</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="bool">bool</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to use passphrase</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>homescreen</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="bytes">bytes</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>New homescreen for the device</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>passphrase_always_on_device</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="bool">bool</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to always ask for passphrase on device</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>auto_lock_delay_ms</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Delay in milliseconds after which the device with PIN will lock itself</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>display_rotation</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Display rotation in degrees from North</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>safety_checks</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="python.src.trezorlib.messages.SafetyCheckLevel">SafetyCheckLevel</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Safety check level</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>experimental_features</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="bool">bool</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to enable experimental features</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="python.src.trezorlib.protobuf.MessageType">MessageType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Success message</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/trezorlib/device.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@expect</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">Success</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="n">ret_type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="nd">@session</span>
<span class="k">def</span> <span class="nf">apply_settings</span><span class="p">(</span>
    <span class="n">client</span><span class="p">:</span> <span class="s2">&quot;TrezorClient&quot;</span><span class="p">,</span>
    <span class="n">label</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">language</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">use_passphrase</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">homescreen</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">passphrase_always_on_device</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">auto_lock_delay_ms</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">display_rotation</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">safety_checks</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">messages</span><span class="o">.</span><span class="n">SafetyCheckLevel</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">experimental_features</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MessageType&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Change device settings.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: TrezorClient instance</span>
<span class="sd">        label: New label for the device</span>
<span class="sd">        language: New language for the device</span>
<span class="sd">        use_passphrase: Whether to use passphrase</span>
<span class="sd">        homescreen: New homescreen for the device</span>
<span class="sd">        passphrase_always_on_device: Whether to always ask for passphrase on device</span>
<span class="sd">        auto_lock_delay_ms: Delay in milliseconds after which the device with PIN will lock itself</span>
<span class="sd">        display_rotation: Display rotation in degrees from North</span>
<span class="sd">        safety_checks: Safety check level</span>
<span class="sd">        experimental_features: Whether to enable experimental features</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Success message</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="n">messages</span><span class="o">.</span><span class="n">ApplySettings</span><span class="p">(</span>
        <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
        <span class="n">language</span><span class="o">=</span><span class="n">language</span><span class="p">,</span>
        <span class="n">use_passphrase</span><span class="o">=</span><span class="n">use_passphrase</span><span class="p">,</span>
        <span class="n">homescreen</span><span class="o">=</span><span class="n">homescreen</span><span class="p">,</span>
        <span class="n">passphrase_always_on_device</span><span class="o">=</span><span class="n">passphrase_always_on_device</span><span class="p">,</span>
        <span class="n">auto_lock_delay_ms</span><span class="o">=</span><span class="n">auto_lock_delay_ms</span><span class="p">,</span>
        <span class="n">display_rotation</span><span class="o">=</span><span class="n">display_rotation</span><span class="p">,</span>
        <span class="n">safety_checks</span><span class="o">=</span><span class="n">safety_checks</span><span class="p">,</span>
        <span class="n">experimental_features</span><span class="o">=</span><span class="n">experimental_features</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">out</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
    <span class="n">client</span><span class="o">.</span><span class="n">refresh_features</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">out</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="python.src.trezorlib.device.backup" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">backup</span><span class="p">(</span><span class="n">client</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Back up the mnemonic seed.</p>
<p>Must be run on a device that is already set up but is not backed up yet.
Backup can be only performed once after device setup -- either as part of the
<code>reset</code> workflow, or separately using this function.</p>
<p>The backup process is fully interactive on the Trezor device itself and does not
interact with the host.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrezorClient (python.src.trezorlib.client.TrezorClient)" href="../client/#python.src.trezorlib.client.TrezorClient">TrezorClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TrezorClient instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="python.src.trezorlib.protobuf.MessageType">MessageType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Success message</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/trezorlib/device.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@expect</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">Success</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="n">ret_type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="nd">@session</span>
<span class="k">def</span> <span class="nf">backup</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="s2">&quot;TrezorClient&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MessageType&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Back up the mnemonic seed.</span>

<span class="sd">    Must be run on a device that is already set up but is not backed up yet.</span>
<span class="sd">    Backup can be only performed once after device setup -- either as part of the</span>
<span class="sd">    `reset` workflow, or separately using this function.</span>

<span class="sd">    The backup process is fully interactive on the Trezor device itself and does not</span>
<span class="sd">    interact with the host.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: TrezorClient instance</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Success message</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">BackupDevice</span><span class="p">())</span>
    <span class="n">client</span><span class="o">.</span><span class="n">refresh_features</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">ret</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="python.src.trezorlib.device.cancel_authorization" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cancel_authorization</span><span class="p">(</span><span class="n">client</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Cancel any outstanding authorization in the current session.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrezorClient (python.src.trezorlib.client.TrezorClient)" href="../client/#python.src.trezorlib.client.TrezorClient">TrezorClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TrezorClient instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="python.src.trezorlib.protobuf.MessageType">MessageType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Success message</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/trezorlib/device.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@expect</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">Success</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="n">ret_type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">cancel_authorization</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="s2">&quot;TrezorClient&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MessageType&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Cancel any outstanding authorization in the current session.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: TrezorClient instance</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Success message</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">CancelAuthorization</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="python.src.trezorlib.device.change_pin" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">change_pin</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">remove</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Set up, change, or remove PIN on the device.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrezorClient (python.src.trezorlib.client.TrezorClient)" href="../client/#python.src.trezorlib.client.TrezorClient">TrezorClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TrezorClient instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>remove</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Set to True to remove the PIN.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="python.src.trezorlib.protobuf.MessageType">MessageType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Success message</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/trezorlib/device.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@expect</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">Success</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="n">ret_type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="nd">@session</span>
<span class="k">def</span> <span class="nf">change_pin</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="s2">&quot;TrezorClient&quot;</span><span class="p">,</span> <span class="n">remove</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MessageType&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set up, change, or remove PIN on the device.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: TrezorClient instance</span>
<span class="sd">        remove: Set to True to remove the PIN.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Success message</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">ChangePin</span><span class="p">(</span><span class="n">remove</span><span class="o">=</span><span class="n">remove</span><span class="p">))</span>
    <span class="n">client</span><span class="o">.</span><span class="n">refresh_features</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">ret</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="python.src.trezorlib.device.change_wipe_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">change_wipe_code</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">remove</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Set up, change, or remove wipe code on the device.</p>
<p>When entered instead of the unlock PIN, the wipe code, or "duress PIN", will cause the device to be erased.
Wipe code can only be configured when the unlock PIN is already set up.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrezorClient (python.src.trezorlib.client.TrezorClient)" href="../client/#python.src.trezorlib.client.TrezorClient">TrezorClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TrezorClient instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>remove</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Set to True to remove the wipe code.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrezorClient (python.src.trezorlib.client.TrezorClient)" href="../client/#python.src.trezorlib.client.TrezorClient">TrezorClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TrezorClient instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>remove</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to remove the wipe-code. False mean setting a new wipe-code.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="python.src.trezorlib.protobuf.MessageType">MessageType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Success message</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/trezorlib/device.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@expect</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">Success</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="n">ret_type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="nd">@session</span>
<span class="k">def</span> <span class="nf">change_wipe_code</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="s2">&quot;TrezorClient&quot;</span><span class="p">,</span> <span class="n">remove</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MessageType&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set up, change, or remove wipe code on the device.</span>

<span class="sd">    When entered instead of the unlock PIN, the wipe code, or &quot;duress PIN&quot;, will cause the device to be erased.</span>
<span class="sd">    Wipe code can only be configured when the unlock PIN is already set up.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: TrezorClient instance</span>
<span class="sd">        remove: Set to True to remove the wipe code.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: TrezorClient instance</span>
<span class="sd">        remove: Whether to remove the wipe-code. False mean setting a new wipe-code.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Success message</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">ChangeWipeCode</span><span class="p">(</span><span class="n">remove</span><span class="o">=</span><span class="n">remove</span><span class="p">))</span>
    <span class="n">client</span><span class="o">.</span><span class="n">refresh_features</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">ret</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="python.src.trezorlib.device.reboot_to_bootloader" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">reboot_to_bootloader</span><span class="p">(</span><span class="n">client</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Reboot firmware to bootloader mode.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrezorClient (python.src.trezorlib.client.TrezorClient)" href="../client/#python.src.trezorlib.client.TrezorClient">TrezorClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TrezorClient instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="python.src.trezorlib.protobuf.MessageType">MessageType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Success message</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/trezorlib/device.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@session</span>
<span class="nd">@expect</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">Success</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="n">ret_type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">reboot_to_bootloader</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="s2">&quot;TrezorClient&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MessageType&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reboot firmware to bootloader mode.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: TrezorClient instance</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Success message</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">RebootToBootloader</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="python.src.trezorlib.device.recover" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">recover</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">word_count</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">passphrase_protection</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">pin_protection</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="s1">&#39;en-US&#39;</span><span class="p">,</span> <span class="n">input_callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">messages</span><span class="o">.</span><span class="n">RecoveryDeviceType</span><span class="o">.</span><span class="n">ScrambledWords</span><span class="p">,</span> <span class="n">dry_run</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">u2f_counter</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Restore a wallet from a mnemonic seed.</p>
<p>Must be either run on a wiped device, or with the <code>dry_run</code> flag set to True.</p>
<p>On Trezor 1, <code>input_callback</code> is required. When <code>recovery_type</code> is <code>ScrambledWords</code>,
each call to callback must return a single word from the mnemonic seed. Trezor
screen specifies which word to enter.</p>
<p>When <code>recovery_type</code> is <code>Matrix</code>, each call to callback must return a single digit
corresponding to the position of a letter / word in the matrix on the Trezor screen,
or a backspace character.</p>
<p>On Trezors with on-screen entry, <code>input_callback</code> is ignored.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrezorClient (python.src.trezorlib.client.TrezorClient)" href="../client/#python.src.trezorlib.client.TrezorClient">TrezorClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TrezorClient instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>word_count</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of words in mnemonic</p>
              </div>
            </td>
            <td>
                  <code>24</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>passphrase_protection</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to enable passphrase protection</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pin_protection</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to enable PIN protection</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>label</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Label for the device</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>language</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Language for the device</p>
              </div>
            </td>
            <td>
                  <code>&#39;en-US&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_callback</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Callable">Callable</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Function to be called for each word. It should return the word.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>type</code>
            </td>
            <td>
                  <code><span title="python.src.trezorlib.messages.RecoveryDeviceType">RecoveryDeviceType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Recovery type</p>
              </div>
            </td>
            <td>
                  <code><span title="python.src.trezorlib.messages.RecoveryDeviceType.ScrambledWords">ScrambledWords</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dry_run</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to perform a dry run - simulate recovery</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>u2f_counter</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>U2F counter value</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="python.src.trezorlib.protobuf.MessageType">MessageType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Success message</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/trezorlib/device.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@session</span>
<span class="k">def</span> <span class="nf">recover</span><span class="p">(</span>
    <span class="n">client</span><span class="p">:</span> <span class="s2">&quot;TrezorClient&quot;</span><span class="p">,</span>
    <span class="n">word_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span>
    <span class="n">passphrase_protection</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">pin_protection</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">label</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;en-US&quot;</span><span class="p">,</span>
    <span class="n">input_callback</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">messages</span><span class="o">.</span><span class="n">RecoveryDeviceType</span> <span class="o">=</span> <span class="n">messages</span><span class="o">.</span><span class="n">RecoveryDeviceType</span><span class="o">.</span><span class="n">ScrambledWords</span><span class="p">,</span>
    <span class="n">dry_run</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">u2f_counter</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MessageType&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Restore a wallet from a mnemonic seed.</span>

<span class="sd">    Must be either run on a wiped device, or with the `dry_run` flag set to True.</span>

<span class="sd">    On Trezor 1, `input_callback` is required. When `recovery_type` is `ScrambledWords`,</span>
<span class="sd">    each call to callback must return a single word from the mnemonic seed. Trezor</span>
<span class="sd">    screen specifies which word to enter.</span>

<span class="sd">    When `recovery_type` is `Matrix`, each call to callback must return a single digit</span>
<span class="sd">    corresponding to the position of a letter / word in the matrix on the Trezor screen,</span>
<span class="sd">    or a backspace character.</span>

<span class="sd">    On Trezors with on-screen entry, `input_callback` is ignored.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: TrezorClient instance</span>
<span class="sd">        word_count: Number of words in mnemonic</span>
<span class="sd">        passphrase_protection: Whether to enable passphrase protection</span>
<span class="sd">        pin_protection: Whether to enable PIN protection</span>
<span class="sd">        label: Label for the device</span>
<span class="sd">        language: Language for the device</span>
<span class="sd">        input_callback: Function to be called for each word. It should return the word.</span>
<span class="sd">        type: Recovery type</span>
<span class="sd">        dry_run: Whether to perform a dry run - simulate recovery</span>
<span class="sd">        u2f_counter: U2F counter value</span>

<span class="sd">    Returns:</span>
<span class="sd">        Success message</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">client</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">model</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span> <span class="ow">and</span> <span class="n">input_callback</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Input callback required for Trezor One&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">word_count</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">24</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid word count. Use 12/18/24&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">client</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">initialized</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">dry_run</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Device already initialized. Call device.wipe() and try again.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">u2f_counter</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">u2f_counter</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>

    <span class="n">msg</span> <span class="o">=</span> <span class="n">messages</span><span class="o">.</span><span class="n">RecoveryDevice</span><span class="p">(</span>
        <span class="n">word_count</span><span class="o">=</span><span class="n">word_count</span><span class="p">,</span> <span class="n">enforce_wordlist</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">type</span><span class="p">,</span> <span class="n">dry_run</span><span class="o">=</span><span class="n">dry_run</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">dry_run</span><span class="p">:</span>
        <span class="c1"># set additional parameters</span>
        <span class="n">msg</span><span class="o">.</span><span class="n">passphrase_protection</span> <span class="o">=</span> <span class="n">passphrase_protection</span>
        <span class="n">msg</span><span class="o">.</span><span class="n">pin_protection</span> <span class="o">=</span> <span class="n">pin_protection</span>
        <span class="n">msg</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">label</span>
        <span class="n">msg</span><span class="o">.</span><span class="n">language</span> <span class="o">=</span> <span class="n">language</span>
        <span class="n">msg</span><span class="o">.</span><span class="n">u2f_counter</span> <span class="o">=</span> <span class="n">u2f_counter</span>

    <span class="n">res</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">while</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">messages</span><span class="o">.</span><span class="n">WordRequest</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">input_callback</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">inp</span> <span class="o">=</span> <span class="n">input_callback</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">WordAck</span><span class="p">(</span><span class="n">word</span><span class="o">=</span><span class="n">inp</span><span class="p">))</span>
        <span class="k">except</span> <span class="n">Cancelled</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">Cancel</span><span class="p">())</span>

    <span class="n">client</span><span class="o">.</span><span class="n">init_device</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">res</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="python.src.trezorlib.device.reset" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">reset</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">display_random</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">strength</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">passphrase_protection</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">pin_protection</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="s1">&#39;en-US&#39;</span><span class="p">,</span> <span class="n">u2f_counter</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">skip_backup</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">no_backup</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">backup_type</span><span class="o">=</span><span class="n">messages</span><span class="o">.</span><span class="n">BackupType</span><span class="o">.</span><span class="n">Bip39</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new wallet on the device.</p>
<p>Must be run on a wiped device.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrezorClient (python.src.trezorlib.client.TrezorClient)" href="../client/#python.src.trezorlib.client.TrezorClient">TrezorClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TrezorClient instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>display_random</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Display entropy generated by the device</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>strength</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Strength of the generated seed in bits</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>passphrase_protection</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to enable passphrase protection</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pin_protection</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to enable PIN protection</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>label</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Label for the device</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>language</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Language for the device</p>
              </div>
            </td>
            <td>
                  <code>&#39;en-US&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>u2f_counter</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>U2F counter value</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>skip_backup</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Postpone seed backup to <code>BackupDevice</code> workflow</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>no_backup</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicate that no backup (seedless mode) is going to be made</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>backup_type</code>
            </td>
            <td>
                  <code><span title="python.src.trezorlib.messages.BackupType">BackupType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Type of backup to be made (BIP39, Shamir, SuperShamir)</p>
              </div>
            </td>
            <td>
                  <code><span title="python.src.trezorlib.messages.BackupType.Bip39">Bip39</span></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="python.src.trezorlib.protobuf.MessageType">MessageType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Success message</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/trezorlib/device.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@expect</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">Success</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="n">ret_type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="nd">@session</span>
<span class="k">def</span> <span class="nf">reset</span><span class="p">(</span>
    <span class="n">client</span><span class="p">:</span> <span class="s2">&quot;TrezorClient&quot;</span><span class="p">,</span>
    <span class="n">display_random</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">strength</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">passphrase_protection</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">pin_protection</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">label</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;en-US&quot;</span><span class="p">,</span>
    <span class="n">u2f_counter</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">skip_backup</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">no_backup</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">backup_type</span><span class="p">:</span> <span class="n">messages</span><span class="o">.</span><span class="n">BackupType</span> <span class="o">=</span> <span class="n">messages</span><span class="o">.</span><span class="n">BackupType</span><span class="o">.</span><span class="n">Bip39</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MessageType&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new wallet on the device.</span>

<span class="sd">    Must be run on a wiped device.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: TrezorClient instance</span>
<span class="sd">        display_random: Display entropy generated by the device</span>
<span class="sd">        strength: Strength of the generated seed in bits</span>
<span class="sd">        passphrase_protection: Whether to enable passphrase protection</span>
<span class="sd">        pin_protection: Whether to enable PIN protection</span>
<span class="sd">        label: Label for the device</span>
<span class="sd">        language: Language for the device</span>
<span class="sd">        u2f_counter: U2F counter value</span>
<span class="sd">        skip_backup: Postpone seed backup to `BackupDevice` workflow</span>
<span class="sd">        no_backup: Indicate that no backup (seedless mode) is going to be made</span>
<span class="sd">        backup_type: Type of backup to be made (BIP39, Shamir, SuperShamir)</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Success message</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">client</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">initialized</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Device is initialized already. Call wipe_device() and try again.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">strength</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">client</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">model</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="n">strength</span> <span class="o">=</span> <span class="mi">256</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">strength</span> <span class="o">=</span> <span class="mi">128</span>

    <span class="c1"># Begin with device reset workflow</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="n">messages</span><span class="o">.</span><span class="n">ResetDevice</span><span class="p">(</span>
        <span class="n">display_random</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">display_random</span><span class="p">),</span>
        <span class="n">strength</span><span class="o">=</span><span class="n">strength</span><span class="p">,</span>
        <span class="n">passphrase_protection</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">passphrase_protection</span><span class="p">),</span>
        <span class="n">pin_protection</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">pin_protection</span><span class="p">),</span>
        <span class="n">language</span><span class="o">=</span><span class="n">language</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
        <span class="n">u2f_counter</span><span class="o">=</span><span class="n">u2f_counter</span><span class="p">,</span>
        <span class="n">skip_backup</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">skip_backup</span><span class="p">),</span>
        <span class="n">no_backup</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">no_backup</span><span class="p">),</span>
        <span class="n">backup_type</span><span class="o">=</span><span class="n">backup_type</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">resp</span><span class="p">,</span> <span class="n">messages</span><span class="o">.</span><span class="n">EntropyRequest</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Invalid response, expected EntropyRequest&quot;</span><span class="p">)</span>

    <span class="n">external_entropy</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">urandom</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
    <span class="c1"># LOG.debug(&quot;Computer generated entropy: &quot; + external_entropy.hex())</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">EntropyAck</span><span class="p">(</span><span class="n">entropy</span><span class="o">=</span><span class="n">external_entropy</span><span class="p">))</span>
    <span class="n">client</span><span class="o">.</span><span class="n">init_device</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">ret</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="python.src.trezorlib.device.sd_protect" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sd_protect</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">operation</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Update SD card protection.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrezorClient (python.src.trezorlib.client.TrezorClient)" href="../client/#python.src.trezorlib.client.TrezorClient">TrezorClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TrezorClient instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>operation</code>
            </td>
            <td>
                  <code><span title="python.src.trezorlib.messages.SdProtectOperationType">SdProtectOperationType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Operation to perform</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="python.src.trezorlib.protobuf.MessageType">MessageType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Success message</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/trezorlib/device.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@expect</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">Success</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="n">ret_type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="nd">@session</span>
<span class="k">def</span> <span class="nf">sd_protect</span><span class="p">(</span>
    <span class="n">client</span><span class="p">:</span> <span class="s2">&quot;TrezorClient&quot;</span><span class="p">,</span> <span class="n">operation</span><span class="p">:</span> <span class="n">messages</span><span class="o">.</span><span class="n">SdProtectOperationType</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MessageType&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update SD card protection.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: TrezorClient instance</span>
<span class="sd">        operation: Operation to perform</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Success message</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">SdProtect</span><span class="p">(</span><span class="n">operation</span><span class="o">=</span><span class="n">operation</span><span class="p">))</span>
    <span class="n">client</span><span class="o">.</span><span class="n">refresh_features</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">ret</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="python.src.trezorlib.device.set_busy" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_busy</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">expiry_ms</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Sets or clears the busy state of the device.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrezorClient (python.src.trezorlib.client.TrezorClient)" href="../client/#python.src.trezorlib.client.TrezorClient">TrezorClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TrezorClient instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>expiry_ms</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Expiry time in milliseconds. If None, clears the busy state.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="python.src.trezorlib.protobuf.MessageType">MessageType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Success message</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>In the busy state the device shows a "Do not disconnect" message instead of the homescreen.
Setting <code>expiry_ms=None</code> clears the busy state.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/trezorlib/device.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@expect</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">Success</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="n">ret_type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="nd">@session</span>
<span class="k">def</span> <span class="nf">set_busy</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="s2">&quot;TrezorClient&quot;</span><span class="p">,</span> <span class="n">expiry_ms</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;MessageType&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets or clears the busy state of the device.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: TrezorClient instance</span>
<span class="sd">        expiry_ms: Expiry time in milliseconds. If None, clears the busy state.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Success message</span>

<span class="sd">    In the busy state the device shows a &quot;Do not disconnect&quot; message instead of the homescreen.</span>
<span class="sd">    Setting `expiry_ms=None` clears the busy state.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">SetBusy</span><span class="p">(</span><span class="n">expiry_ms</span><span class="o">=</span><span class="n">expiry_ms</span><span class="p">))</span>
    <span class="n">client</span><span class="o">.</span><span class="n">refresh_features</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">ret</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="python.src.trezorlib.device.unlock_path" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">unlock_path</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Ask device to unlock a subtree of the keychain.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrezorClient (python.src.trezorlib.client.TrezorClient)" href="../client/#python.src.trezorlib.client.TrezorClient">TrezorClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TrezorClient instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>n</code>
            </td>
            <td>
                  <code><span title="python.src.trezorlib.tools.Address">Address</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to unlock</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="python.src.trezorlib.protobuf.MessageType">MessageType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>MAC of the path: bytes</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/trezorlib/device.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@expect</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">UnlockedPathRequest</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s2">&quot;mac&quot;</span><span class="p">,</span> <span class="n">ret_type</span><span class="o">=</span><span class="nb">bytes</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">unlock_path</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="s2">&quot;TrezorClient&quot;</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="s2">&quot;Address&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MessageType&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Ask device to unlock a subtree of the keychain.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: TrezorClient instance</span>
<span class="sd">        n: Path to unlock</span>

<span class="sd">    Returns:</span>
<span class="sd">        MAC of the path: bytes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">UnlockPath</span><span class="p">(</span><span class="n">address_n</span><span class="o">=</span><span class="n">n</span><span class="p">))</span>

    <span class="c1"># Cancel the UnlockPath workflow now that we have the authentication code.</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">Cancel</span><span class="p">())</span>
    <span class="k">except</span> <span class="n">Cancelled</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">resp</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">TrezorException</span><span class="p">(</span><span class="s2">&quot;Unexpected response in UnlockPath flow&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="python.src.trezorlib.device.wipe" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">wipe</span><span class="p">(</span><span class="n">client</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Wipe the device.</p>
<p>In normal mode, this will erase the seed and all user settings.</p>
<p>When sent in bootloader mode, this will also completely erase the firmware.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrezorClient (python.src.trezorlib.client.TrezorClient)" href="../client/#python.src.trezorlib.client.TrezorClient">TrezorClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TrezorClient instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="python.src.trezorlib.protobuf.MessageType">MessageType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Success message</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/trezorlib/device.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@expect</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">Success</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="n">ret_type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="nd">@session</span>
<span class="k">def</span> <span class="nf">wipe</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="s2">&quot;TrezorClient&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MessageType&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Wipe the device.</span>

<span class="sd">    In normal mode, this will erase the seed and all user settings.</span>

<span class="sd">    When sent in bootloader mode, this will also completely erase the firmware.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: TrezorClient instance</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Success message</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">WipeDevice</span><span class="p">())</span>
    <span class="n">client</span><span class="o">.</span><span class="n">init_device</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">ret</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>