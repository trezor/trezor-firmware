[tox]
envlist =
    py35,
    py36,
    py37,

[testenv]
deps =
    -rrequirements-dev.txt
commands =
    # Generate local files
    python setup.py build
    # Working in the local directory, try to compile all bytecode
    python -m compileall trezorlib/
    # From installed version, smoke-test trezorctl
    trezorctl --help
    # Run non-device-dependent tests from installed version
    python -E -m pytest --pyargs trezorlib.tests.unit_tests
